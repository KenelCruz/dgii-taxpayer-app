<div class="list-container">

  <div class="list-header">
    <mat-icon>people</mat-icon>
    <h2>Contribuyentes</h2>
    <div class="count" *ngIf="taxpayers.length > 0">
      {{ taxpayers.length }} registrados
    </div>
  </div>

  <div class="taxpayers-grid" *ngIf="taxpayers.length > 0">
    <div
      class="taxpayer-card"
      *ngFor="let taxpayer of taxpayers"
      (click)="onSelectTaxpayer(taxpayer.rncCedula)">

      <div class="card-header">
        <div class="rnc-badge">
          {{ taxpayer.rncCedula }}
        </div>
        <div
          class="status-badge"
          [class.active]="taxpayer.estatus === 'activo'"
          [class.inactive]="taxpayer.estatus !== 'activo'">
          {{ taxpayer.estatus }}
        </div>
      </div>

      <div class="card-body">
        <h3 class="taxpayer-name">{{ taxpayer.nombre }}</h3>

        <div class="taxpayer-type">
          <mat-icon>{{ taxpayer.tipo === 'PERSONA FISICA' ? 'person' : 'business' }}</mat-icon>
          <span>{{ taxpayer.tipo }}</span>
        </div>
      </div>

      <div class="card-footer">
        <button class="action-button" type="button">
          <mat-icon>receipt_long</mat-icon>
          <span>Ver Comprobantes</span>
        </button>
      </div>

    </div>
  </div>

  <div class="no-data" *ngIf="taxpayers.length === 0">
    <mat-icon>inbox</mat-icon>
    <p>No hay contribuyentes registrados</p>
  </div>

</div>